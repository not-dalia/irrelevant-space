<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/assets/favicon.svg" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Frank+Ruhl+Libre:wght@300;400;500;600;700&family=Raleway:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/styles/styles.css">
  <link rel="stylesheet" href="/styles/tango.css">
  <title>Irrelevant Space - Welcome to Jekyll!</title>
</head>

<body id="home">
  <header>
    <h1><a href="/">irrelevant space</a></h1>
    <div class="nav">
      <a href="/notes">notes</a>
      <a href="/endeavours">endeavours</a>
    </div>
  </header>

  <main>
    <div class="col-wrapper" id="note-header">
  <div class="main-col">
    <div class="info">
      <div class="note-type">note</div>
      
      <div class="separator">●</div>
      <div class="age">Created 5 Jan 2024</div>
      <div class="separator">●</div>
      <div class="age">Last updated <date datetime="2024-01-05 23:10:08 +0000">5 Jan 2024</date></div>
    </div>
    <h1><span>Welcome to Jekyll!</span></h1>
    
  </div>
</div>

<div class="content-wrapper" id="note-content">
  <div class="col-wrapper">
    <div class="main-col">
      <p>You’ll find this post in your <code class="language-plaintext highlighter-rouge">_posts</code> directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run <code class="language-plaintext highlighter-rouge">jekyll serve</code>, which launches a web server and auto-regenerates your site when a file is updated.</p>

<p>Jekyll requires blog post files to be named according to the following format:</p>

<p><code class="language-plaintext highlighter-rouge">YEAR-MONTH-DAY-title.MARKUP</code></p>

<p>Where <code class="language-plaintext highlighter-rouge">YEAR</code> is a four-digit number, <code class="language-plaintext highlighter-rouge">MONTH</code> and <code class="language-plaintext highlighter-rouge">DAY</code> are both two-digit numbers, and <code class="language-plaintext highlighter-rouge">MARKUP</code> is the file extension representing the format used in the file. After that, include the necessary front matter. Take a look at the source for this post to get an idea about how it works.</p>

<p>Jekyll also offers powerful support for code snippets:</p>

<figure class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">print_hi</span><span class="p">(</span><span class="nb">name</span><span class="p">)</span>
  <span class="nb">puts</span> <span class="s2">"Hi, </span><span class="si">#{</span><span class="nb">name</span><span class="si">}</span><span class="s2">"</span>
<span class="k">end</span>
<span class="n">print_hi</span><span class="p">(</span><span class="s1">'Tom'</span><span class="p">)</span>
<span class="c1">#=&gt; prints 'Hi, Tom' to STDOUT.</span></code></pre></figure>

<p>Check out the <a href="https://jekyllrb.com/docs/home" class="external-link" target="_blank">Jekyll docs</a> for more info on how to get the most out of Jekyll. File all bugs/feature requests at <a href="https://github.com/jekyll/jekyll" class="external-link" target="_blank">Jekyll’s GitHub repo</a>. If you have questions, you can ask them on <a href="https://talk.jekyllrb.com/" class="external-link" target="_blank">Jekyll Talk</a>.</p>

<p>link test:
<a href="./a-short-poem" title="./a short poem" class="wikilink internal-link broken-link">./a short poem</a><a href="/a-short-poem" title="a-short-poem" class="wikilink internal-link broken-link">a-short-poem</a></p>

    </div>
    <div class="side-col">
      

      <div class="note-side-wrapper card">
        <h2>Mentions</h2>
        <ul id="backlinks">
          <p>Fetching mentions...</p>
        </ul>
      </div>
    </div>
  </div>
</div>

<div id="link-preview" role="tooltip">
  <div id="link-preview-content">

  </div>
</div>

<script>
  let pageUrl = '/jekyll/update/2023/02/21/welcome-to-jekyll.html';
  fetch('/scripts/backlinks.json')
    .then(response => response.json())
    .then(data => {
      let backlinks = data[pageUrl];
      if (backlinks && backlinks.length > 0) {
        let backlinksDiv = document.getElementById('backlinks');
        backlinksDiv.innerHTML = backlinks.filter(link => {
          let currentUrl = new URL(window.location.href);
          let linkUrl = new URL(`${currentUrl.origin}${link.url[0] == '/' ? '' : '/'}${link.url}`);
          let linkPathname = linkUrl.pathname.replace(/\/$/, '');
          let currentPathname = currentUrl.pathname.replace(/\/$/, '');
          return linkPathname != currentPathname;
        }).map(link =>
          `<li><a href="${link.url}">${link.title}</a></li>`).join('');
      } else {
        let backlinksDiv = document.getElementById('backlinks');
        backlinksDiv.innerHTML = 'No mentions from other notes';
      }
    });
</script>

<script>
  let isHoveringLink = false;
  let isHoveringPreview = false;

  function prepareLinkPreviews() {
    let linkPreview = document.getElementById('link-preview');
    let linkPreviewContent = document.getElementById('link-preview-content');
    let links = document.querySelectorAll('a.internal-link:not(.wikilink-embed a):not(.embed-link):not(.broken-link):not(.reversefootnote)');
    links.forEach(link => {
      link.addEventListener('mouseover', (e) => {
        isHoveringLink = true;
        showLinkPreview(link);
      });
      link.addEventListener('mouseout', (e) => {
        isHoveringLink = false;
        if (!isHoveringPreview) {
          let linkPreview = document.getElementById('link-preview');
          setTimeout(() => {
            if (!isHoveringPreview && !isHoveringLink) {
              hidePreview();
            }
          }, 200);
        }
      });


      link.addEventListener('focus', () => {
        showLinkPreview(link);
      });

      link.addEventListener('blur', () => {
        hidePreview();
      });
    });
    linkPreview.addEventListener('mouseenter', () => {
      isHoveringPreview = true;
    });

    linkPreview.addEventListener('mouseleave', () => {
      isHoveringPreview = false;
      if (!isHoveringLink) {
        hidePreview();
      }
    });
    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        hidePreview();
      }
    });
  }

  function positionPreview(link, linkPreview) {
    const linkRect = link.getBoundingClientRect();
    const previewRect = linkPreview.getBoundingClientRect();
    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
    const spaceAbove = linkRect.top - previewRect.height - scrollTop;
    const spaceBelow = window.innerHeight - linkRect.bottom - previewRect.height + scrollTop;
    const margin = 30;
    const pageWidth = document.documentElement.clientWidth;

    if (spaceAbove >= 0 || previewRect.bottom <= scrollTop) {
      linkPreview.style.top = `${linkRect.top - previewRect.height - margin + scrollTop}px`;
    } else {
      linkPreview.style.top = `${linkRect.top + 22 - margin + scrollTop}px`;
    }

    // Check if preview overflows to the right
    if (link.offsetLeft + previewRect.width > pageWidth) {
      linkPreview.style.left = `${Math.max(0, pageWidth - previewRect.width - margin * 2)}px`;
    } else {
      linkPreview.style.left = `${Math.max(0, link.offsetLeft - margin * 2)}px`;
    }
  }

  function showLinkPreview(link) {
    let linkPreview = document.getElementById('link-preview');
    let linkPreviewContent = document.getElementById('link-preview-content');
    linkPreviewContent.innerHTML = 'Loading...';

    positionPreview(link, linkPreview);

    let linkUrl = link.href;
    if (linkUrl[0] == '#') return;
    fetch(linkUrl)
      .then(response => response.text())
      .then(data => {
        let parser = new DOMParser();
        let doc = parser.parseFromString(data, 'text/html');
        let title = doc.querySelector('#note-header h1').innerText;
        let content = '';
        let preview = '';

        if (linkUrl.includes('#')) {
          console.log(linkUrl);
          const fragmentId = linkUrl.split('#')[1];
          const fragmentEl = doc.getElementById(fragmentId);
          const headers = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'LI'];
          if (fragmentEl && headers.indexOf(fragmentEl.tagName)) {
            const nextHeaders = headers.slice(headers.indexOf(fragmentEl.tagName));
            const elements = [fragmentEl];
            let nextEl = fragmentEl.nextElementSibling;
            while (nextEl && !nextHeaders.includes(nextEl.tagName)) {
              elements.push(nextEl);
              nextEl = nextEl.nextElementSibling;
            }
            content = elements.map(el => el.outerHTML).join('');
            preview = `<div>${content}</div>`;
          } else {
            content = doc.querySelector('#note-content .main-col').innerHTML;
            preview = `<h2>${title}</h2><div>${content}</div>`;
          }
        } else {
          content = doc.querySelector('#note-content .main-col').innerHTML;
          preview = `<h2>${title}</h2><div>${content}</div>`;
        }

        linkPreviewContent.innerHTML = preview;

        lucide.createIcons();
        linkPreview.classList.add('visible');
        linkPreview.setAttribute('aria-hidden', 'false');
      });
  }

  function hidePreview() {
    let linkPreview = document.getElementById('link-preview');
    linkPreview.classList.remove('visible');
    linkPreview.setAttribute('aria-hidden', 'false');
  }
  prepareLinkPreviews();
</script>

<script src="https://unpkg.com/lucide@latest"></script>

<script>
  lucide.createIcons();

  function toggleMeadowCallout(element) {
    let calloutId = element.getAttribute('aria-controls');
    let callout = document.getElementById(calloutId);
    let calloutTitle = callout.querySelector('.meadow-callout-title');
    let calloutContent = callout.querySelector('.meadow-callout-content');
    let calloutIcon = callout.querySelector('.meadow-callout-icon-toggle');
    let isExpanded = !callout.classList.contains('folded');
    calloutTitle.setAttribute('aria-expanded', !isExpanded);
    calloutContent.setAttribute('aria-hidden', isExpanded);
    if (isExpanded) {
      callout.classList.add('folded');
    } else {
      callout.classList.remove('folded');
    }
  }
</script>

  </main>
</body>

</html>
